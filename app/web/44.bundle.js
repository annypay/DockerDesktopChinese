"use strict";(global.webpackChunk_docker_desktop_ui=global.webpackChunk_docker_desktop_ui||[]).push([[44],{27036:(e,t,a)=>{var l=a(64119);t.Z=void 0;var n=l(a(64938)),s=a(85893),o=(0,n.default)((0,s.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.Z=o},83044:(e,t,a)=>{a.r(t),a.d(t,{default:()=>H});var l=a(67294),n=a(61366),s=a(15857),o=a(28216),i=a(75982),r=a(42440),c=a(65965),d=a(59334),m=a(65155),g=a(76914),u=a(67720),p=a(72298),D=a(34322),h=a(63365),E=a(71619),k=a(62484),y=a(62667),M=a(10619),I=a(61505),Z=a(76196),N=a(23879),w=a(63240),A=a(57616),R=a(45018),b=a(33571),C=a(14212),T=a(3838),j=a(88979),S=a(77750),U=a(37645),v=a(50542),z=a(23709),L=a(15725),f=a(69041),x=a(94235),O=a(27036),P=a(34934),Q=a(94184),_=a.n(Q),F=a(85278);const W=(0,x.Z)((e=>({dialogRoot:{width:500,height:250,padding:e.spacing(2)},titleWrapper:{display:"flex",alignItems:"center",fontSize:16,fontWeight:600,padding:e.spacing(1,2)},marginLeft:{marginLeft:e.spacing(2)},contentRoot:{paddingLeft:70},fullHeight:{height:"100%"},completeWrapper:{display:"flex",alignItems:"center",color:"#27AE60"}})));function Y(e){const{showDialog:t,closeDialog:a,selectDataToDelete:n,data:s,dialogState:o,deleteData:i}=e,r=W(e);return l.createElement(T.Z,{open:t,onClose:a,classes:{paper:r.dialogRoot}},l.createElement(U.Z,{className:r.titleWrapper},l.createElement(P.Z,{src:F}),l.createElement("div",{className:r.marginLeft},"Delete the following data set(s)")),l.createElement(S.Z,{classes:{root:r.contentRoot}},"START"===o?l.createElement(z.Z,null,l.createElement(v.Z,{control:l.createElement(C.Z,{color:"primary",checked:s.hyperv,onChange:n}),label:"Hyper-V",name:"hyperv"}),l.createElement(v.Z,{control:l.createElement(C.Z,{color:"primary",checked:s.wsl2,onChange:n}),label:"WSL 2",name:"wsl2"}),l.createElement(v.Z,{control:l.createElement(C.Z,{color:"primary",checked:s.windowsContainers,onChange:n}),label:"Windows Containers",name:"windowsContainers"})):"PENDING"===o?l.createElement(L.ZP,{spacing:1,container:!0,direction:"column",justifyContent:"center",className:r.fullHeight},"Deleting ...",l.createElement(L.ZP,{item:!0,style:{paddingLeft:0}},l.createElement(f.Z,null))):"TERMINATED"===o?l.createElement("div",{className:_()(r.completeWrapper,r.fullHeight)},l.createElement(O.Z,{fill:"currentColor"}),l.createElement("div",{className:r.marginLeft},"Purge completed")):null),l.createElement(j.Z,null,(()=>{if("START"===o){const e=s.hyperv||s.wsl2||s.windowsContainers;return l.createElement(l.Fragment,null,l.createElement(g.Z,{onClick:a,variant:"outlined",color:"primary","data-action":"cancel"},"取消"),l.createElement(g.Z,{onClick:i,variant:"contained",color:"secondary","data-action":"delete",disabled:!e},"Delete"))}return"TERMINATED"===o?l.createElement(g.Z,{onClick:a,variant:"outlined",color:"primary","data-action":"close"},"Close"):null})()))}var G=a(95087);class V extends l.PureComponent{constructor(){super(),this.state={showDialog:!1,dialogState:"START",data:{hyperv:!1,wsl2:!1,windowsContainers:!1},openResetDiskImage:!1,openResetFactory:!1,openUninstall:!1,openUninstallSuccess:!1,openUninstallError:!1,errorUninstall:null}}componentDidMount(){this.props.kubeAction.get()}handleDiagnose=()=>{this.props.navigationAction.push("/support")};openUninstallDialog=()=>{this.setState({openUninstall:!0})};cancelUninstallDialog=()=>{this.setState({openUninstall:!1})};handleUninstall=()=>{this.cancelUninstallDialog(),p.ipcRenderer.invoke("desktop-go-backend","uninstallDesktop").then((()=>this.openUninstallSuccessDialog())).catch((e=>{this.setState({errorUninstall:e},(()=>this.openUninstallErrorDialog()))}))};openUninstallSuccessDialog=()=>{this.setState({openUninstallSuccess:!0})};quitAfterUninstall=()=>{p.ipcRenderer.invoke("close-current-window")};openUninstallErrorDialog=()=>{this.setState({openUninstallError:!0})};cancelUninstallErrorDialog=()=>{this.setState({openUninstallError:!1})};handleRestart=()=>{p.ipcRenderer.invoke("desktop-go-backend","restartVm").then((()=>p.ipcRenderer.invoke("close-current-window"))).catch(I.MI)};handleResetKubernetes=()=>{this.props.onOpenKubernetesReset()};openResetFactoryDialog=()=>{this.setState({openResetFactory:!0})};cancelResetFactoryDialog=()=>{this.setState({openResetFactory:!1})};handleResetFactory=()=>{this.cancelResetFactoryDialog(),p.ipcRenderer.invoke("desktop-go-backend","factoryReset").then((()=>p.ipcRenderer.invoke("close-current-window"))).catch(I.MI)};handleClose=()=>{const e=(0,D.T)(D.m.entries);this.props.navigationAction.replace(e)};openDialogToDeleteData=()=>{this.setState({showDialog:!0,dialogState:"START",data:{hyperv:!1,wsl2:!1,windowsContainers:!1}})};closeDialog=()=>{this.setState({showDialog:!1})};selectDataToDelete=e=>{const{data:t}=this.state;this.setState({data:{...t,[e.target.name]:e.target.checked}})};deleteData=()=>{this.setState({dialogState:"PENDING"},(()=>{p.ipcRenderer.invoke("desktop-backend","deleteData",this.state.data).then((()=>{this.setState({dialogState:"TERMINATED"})}))}))};openResetDiskImageDialog=()=>{this.setState({openResetDiskImage:!0})};cancelResetDiskImageDialog=()=>{this.setState({openResetDiskImage:!1})};handleResetDiskImage=()=>{this.cancelResetDiskImageDialog(),p.ipcRenderer.invoke("desktop-go-backend","diskReset").then((()=>p.ipcRenderer.invoke("close-current-window"))).catch(I.MI)};render(){const{classes:e,engineMode:t}=this.props;return l.createElement(G.e,null,l.createElement(M.A,{title:"Troubleshoot",hideFooter:!0},l.createElement(h.B,null),l.createElement(y.Z,{onClose:this.handleClose},"Troubleshoot"),l.createElement(E.H,null,l.createElement(r.Z,{className:e.list},l.createElement(c.ZP,null,l.createElement(d.Z,{primary:"重启Docker Desktop",secondary:"将保留所有容器和设置"}),l.createElement(m.Z,null,l.createElement(g.Z,{color:"primary",disabled:this.props.disabled,id:"restart",onClick:this.handleRestart,variant:"outlined"},"重启"))),l.createElement(u.Z,null),l.createElement(c.ZP,null,l.createElement(d.Z,{primary:"支持",secondary:"获取Docker Desktop的帮助"}),l.createElement(m.Z,null,l.createElement(g.Z,{color:"primary",id:"support",onClick:this.handleDiagnose,variant:"outlined"},"获取支持"))),l.createElement(u.Z,null),"linux"===t&&l.createElement(l.Fragment,null,l.createElement(c.ZP,null,l.createElement(d.Z,{primary:"重置Kubernetes集群",secondary:"所有stacks和Kubernetes资源将被删除"}),l.createElement(m.Z,null,l.createElement(g.Z,{color:"secondary",disabled:!this.props.kubernetesEnabled,id:"reset-kubernetes",onClick:this.handleResetKubernetes,variant:"outlined"},"重置Kubernetes集群"))),l.createElement(u.Z,null)),(__DARWIN__||__LINUX__)&&l.createElement(l.Fragment,null,l.createElement(c.ZP,null,l.createElement(d.Z,{primary:"清理/净化数据",secondary:"This will solve problems with disk corruption, Docker Engine not booting..."}),l.createElement(m.Z,null,l.createElement(g.Z,{color:"secondary",id:"reset-disk",onClick:this.openResetDiskImageDialog,variant:"outlined"},"清理/净化数据"))),l.createElement(b.Q,{title:"清理/净化数据",messages:["A disk image reset destroys all Docker containers and images local to the machine, preserving all settings."],buttons:[{label:"取消",click:this.cancelResetDiskImageDialog},{color:"secondary",label:"删除",click:this.handleResetDiskImage}],open:this.state.openResetDiskImage}),l.createElement(u.Z,null)),__WIN32__&&l.createElement(l.Fragment,null,l.createElement(c.ZP,null,l.createElement(d.Z,{primary:"清理/净化数据",secondary:"所选数据将被删除"}),l.createElement(m.Z,null,l.createElement(g.Z,{color:"secondary",id:"delete-data",onClick:this.openDialogToDeleteData,variant:"outlined"},"清理/净化数据"))),l.createElement(u.Z,null),l.createElement(Y,{showDialog:this.state.showDialog,closeDialog:this.closeDialog,selectDataToDelete:this.selectDataToDelete,data:this.state.data,dialogState:this.state.dialogState,deleteData:this.deleteData})),l.createElement(l.Fragment,null,l.createElement(c.ZP,null,l.createElement(d.Z,{primary:"恢复出厂设置",secondary:"所有设置和数据将被清除"}),l.createElement(m.Z,null,l.createElement(g.Z,{color:"secondary",id:"reset-factory",onClick:this.openResetFactoryDialog,variant:"outlined"},"恢复出厂设置"))),l.createElement(b.Q,{title:"Reset Docker Desktop to factory defaults",messages:["A factory reset destroys all Docker containers and images local to the machine, and restores the application to its original state, as when it was first installed."],buttons:[{label:"取消",click:this.cancelResetFactoryDialog},{color:"secondary",label:"Yes, reset anyway",click:this.handleResetFactory}],open:this.state.openResetFactory}),l.createElement(u.Z,null)),__DARWIN__&&l.createElement(l.Fragment,null,l.createElement(c.ZP,null,l.createElement(d.Z,{primary:"Uninstall",secondary:"We’re sorry to see you go. This completely uninstalls Docker Desktop."}),l.createElement(m.Z,null,l.createElement(g.Z,{color:"secondary",id:"uninstall",onClick:this.openUninstallDialog,variant:"outlined"},"Uninstall"))),l.createElement(b.Q,{title:"Uninstall Docker Desktop",messages:["You are about to uninstall Docker Desktop. Destroys all Docker containers and images local to the machine. Removes all files generated by the application.","Do you want to continue?"],buttons:[{label:"取消",click:this.cancelUninstallDialog},{color:"secondary",label:"Uninstall",click:this.handleUninstall}],open:this.state.openUninstall}),l.createElement(b.Q,{title:"Docker Desktop uninstalled successfully",messages:["You can move the Docker Desktop application to the trash"],buttons:[{color:"primary",label:"Quit",click:this.quitAfterUninstall}],open:this.state.openUninstallSuccess}),this.state.errorUninstall&&l.createElement(b.Q,{title:"Sorry, something went wrong when uninstalling Docker",messages:[this.state.errorUninstall.data.message],buttons:[{color:"primary",label:"Close",click:this.cancelUninstallErrorDialog}],open:this.state.openUninstallError}),l.createElement(u.Z,null)))),l.createElement(k.Z,null),l.createElement(Z.z,{keys:"esc",onEvent:this.handleClose})))}}const H=(0,N.Z)((0,o.$j)((e=>({engineMode:e.engine?e.engine.mode:null,disabled:A.qQ(e),kubernetesEnabled:R._k(e)&&R.nS(e)})),(e=>({kubeAction:(0,s.DE)(w.Nw,e),navigationAction:(0,s.DE)({replace:i.gx,push:i.VF},e)})))((0,n.Z)((e=>({list:{display:"flex",flexDirection:"column",justifyContent:"center",margin:"0 auto",maxWidth:800,width:"100%",marginTop:e.spacing(5)}})))(V)))},85278:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzkiIGhlaWdodD0iMzQiIHZpZXdCb3g9IjAgMCAzOSAzNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xOS41IDI4LjY0MDZDMTguMTU0NSAyOC42NDA2IDE3LjA2MjUgMjcuNTQ4NiAxNy4wNjI1IDI2LjIwMzFDMTcuMDYyNSAyNC44NTc2IDE4LjE1NDUgMjMuNzY1NiAxOS41IDIzLjc2NTZDMjAuODQ1NSAyMy43NjU2IDIxLjkzNzUgMjQuODU3NiAyMS45Mzc1IDI2LjIwMzFDMjEuOTM3NSAyNy41NDg2IDIwLjg0NTUgMjguNjQwNiAxOS41IDI4LjY0MDZaTTE3LjY3MTkgMTAuMzU5NEgyMS4zMjgxVjIxLjkzNzVIMTcuNjcxOVYxMC4zNTk0Wk0zOC43OTUyIDMxLjA4NTRMMjEuMjQ1MiAwLjg1NDAzNUMyMC41ODQyIC0wLjI4NDY3OCAxOC40MTU4IC0wLjI4NDY3OCAxNy43NTQ4IDAuODU0MDM1TDAuMjA0NzU4IDMxLjA4NTRDLTAuMDk1NTQyMSAzMS42MDYgLTAuMDY0MzQxOCAzMi4yMjQxIDAuMjkwNTU4IDMyLjcxOTVDMC42NDc0MDggMzMuMjEzMyAxLjI3MzM2IDMzLjUxNTYgMS45NTAwMSAzMy41MTU2SDM3LjA1QzM3LjcyNjYgMzMuNTE1NiAzOC4zNTI2IDMzLjIxMzMgMzguNzA5NCAzMi43MTk1QzM5LjA2NDMgMzIuMjI0MSAzOS4wOTU1IDMxLjYwNiAzOC43OTUyIDMxLjA4NTRaIiBmaWxsPSIjQ0VBRjAwIi8+Cjwvc3ZnPgo="}}]);
//# sourceMappingURL=sourcemaps/44.bundle.js.map